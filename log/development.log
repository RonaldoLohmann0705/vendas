  [1m[35m (0.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  â†³ bin/rails:9
  [1m[35m (7.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  â†³ bin/rails:9
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Migrating to CreateImports (20210507130641)
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "imports" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "total_imports" integer, "total_price" float, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  â†³ db/migrate/20210507130641_create_imports.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20210507130641"]]
  â†³ bin/rails:9
  [1m[35m (9.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ bin/rails:9
Migrating to CreateVendas (20210507130902)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ bin/rails:9
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "vendas" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "comprador" varchar, "descricao" varchar, "preco_unitario" float, "quantidade" integer, "endereco" varchar, "fornecedor" varchar, "import_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, CONSTRAINT "fk_rails_7fdea453c5"
FOREIGN KEY ("import_id")
  REFERENCES "imports" ("id")
)[0m
  â†³ db/migrate/20210507130902_create_vendas.rb:3
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX "index_vendas_on_import_id" ON "vendas" ("import_id")[0m
  â†³ db/migrate/20210507130902_create_vendas.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20210507130902"]]
  â†³ bin/rails:9
  [1m[35m (11.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2021-05-07 13:11:09.189318"], ["updated_at", "2021-05-07 13:11:09.189318"]]
  â†³ bin/rails:9
  [1m[35m (9.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ bin/rails:9
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Started GET "/imports" for ::1 at 2021-05-07 10:21:59 -0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /var/lib/gems/2.5.0/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
Processing by ImportsController#index as HTML
  Rendering imports/index.html.erb within layouts/application
  [1m[36mImport Load (0.3ms)[0m  [1m[34mSELECT "imports".* FROM "imports"[0m
  â†³ app/views/imports/index.html.erb:15
  Rendered imports/index.html.erb within layouts/application (4.1ms)
Completed 200 OK in 851ms (Views: 841.0ms | ActiveRecord: 0.6ms)


Started GET "/imports/new" for ::1 at 2021-05-07 10:22:04 -0300
Processing by ImportsController#new as HTML
  Rendering imports/new.html.erb within layouts/application
  Rendered imports/_form.html.erb (12.5ms)
  Rendered imports/new.html.erb within layouts/application (14.5ms)
Completed 200 OK in 65ms (Views: 52.1ms | ActiveRecord: 1.4ms)


Started POST "/imports" for ::1 at 2021-05-07 10:22:13 -0300
Processing by ImportsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"8YTfpCe2FZhQfnDvExkbSpuY909EGlxiJy4DBDvM0O5GGOe99rkOcnDAqJPNKOiUvGGx/uQLUWzGTQH91LsNeQ==", "import_file"=>"dados.txt", "commit"=>"Create Import"}
Unpermitted parameters: :utf8, :authenticity_token, :commit
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.0ms)


  
NoMethodError (undefined method `import' for #<Class:0x00007f5f1cc4a9f0>):
  
app/controllers/imports_controller.rb:24:in `create'
Started GET "/imports" for ::1 at 2021-05-07 10:22:39 -0300
Processing by ImportsController#index as HTML
  Rendering imports/index.html.erb within layouts/application
  [1m[36mImport Load (0.4ms)[0m  [1m[34mSELECT "imports".* FROM "imports"[0m
  â†³ app/views/imports/index.html.erb:15
  Rendered imports/index.html.erb within layouts/application (5.8ms)
Completed 200 OK in 42ms (Views: 36.5ms | ActiveRecord: 1.4ms)


Started GET "/imports/new" for ::1 at 2021-05-07 10:22:40 -0300
Processing by ImportsController#new as HTML
  Rendering imports/new.html.erb within layouts/application
  Rendered imports/_form.html.erb (2.4ms)
  Rendered imports/new.html.erb within layouts/application (4.6ms)
Completed 200 OK in 64ms (Views: 41.7ms | ActiveRecord: 1.5ms)


Started POST "/imports" for ::1 at 2021-05-07 10:22:46 -0300
Processing by ImportsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"UtGS81hXLWnSmaf5/3LBtZ16BOuNebqTOkvGULL6jJDlTarqiVg2g/Inf4UhQzJruoNCWi1ot53bKMSpXY1RBw==", "import_file"=>"dados.txt", "commit"=>"Create Import"}
Unpermitted parameters: :utf8, :authenticity_token, :commit
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/import.rb:4
  [1m[36mImport Create (1.9ms)[0m  [1m[32mINSERT INTO "imports" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2021-05-07 13:22:46.857498"], ["updated_at", "2021-05-07 13:22:46.857498"]]
  â†³ app/models/import.rb:4
  [1m[35m (12.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/import.rb:4
Completed 500 Internal Server Error in 34ms (ActiveRecord: 14.9ms)


  
NoMethodError (undefined method `path' for "dados.txt":String
Did you mean?  pathmap):
  
app/models/import.rb:6:in `import'
app/controllers/imports_controller.rb:24:in `create'
Started GET "/imports" for ::1 at 2021-05-07 10:23:17 -0300
Processing by ImportsController#index as HTML
  Rendering imports/index.html.erb within layouts/application
  [1m[36mImport Load (0.2ms)[0m  [1m[34mSELECT "imports".* FROM "imports"[0m
  â†³ app/views/imports/index.html.erb:15
  Rendered imports/index.html.erb within layouts/application (13.4ms)
Completed 200 OK in 46ms (Views: 43.7ms | ActiveRecord: 0.2ms)


  [1m[36mImport Destroy (11.6ms)[0m  [1m[31mDELETE FROM "imports"[0m
  [1m[36mVenda Destroy (0.8ms)[0m  [1m[31mDELETE FROM "vendas"[0m
Started GET "/imports" for ::1 at 2021-05-07 10:23:49 -0300
Processing by ImportsController#index as HTML
  Rendering imports/index.html.erb within layouts/application
  [1m[36mImport Load (0.1ms)[0m  [1m[34mSELECT "imports".* FROM "imports"[0m
  â†³ app/views/imports/index.html.erb:15
  Rendered imports/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 31ms (Views: 29.1ms | ActiveRecord: 0.1ms)


Started GET "/imports/new" for ::1 at 2021-05-07 10:23:51 -0300
Processing by ImportsController#new as HTML
  Rendering imports/new.html.erb within layouts/application
  Rendered imports/_form.html.erb (4.7ms)
  Rendered imports/new.html.erb within layouts/application (8.7ms)
Completed 200 OK in 61ms (Views: 57.0ms | ActiveRecord: 0.0ms)


Started POST "/imports" for ::1 at 2021-05-07 10:23:56 -0300
Processing by ImportsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"JXIwS+8uqGrIqr89zROhm4n8nSuBfsYxhqQTpa5ULDmS7ghSPiGzgOgUZ0ETIlJFrgXbmiFvyz9nxxFcQSPxrg==", "import_file"=>"dados.txt", "commit"=>"Create Import"}
Unpermitted parameters: :utf8, :authenticity_token, :commit
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/import.rb:4
  [1m[36mImport Create (0.9ms)[0m  [1m[32mINSERT INTO "imports" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2021-05-07 13:23:56.547185"], ["updated_at", "2021-05-07 13:23:56.547185"]]
  â†³ app/models/import.rb:4
  [1m[35m (7.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/import.rb:4
Completed 500 Internal Server Error in 16ms (ActiveRecord: 8.4ms)


  
NoMethodError (undefined method `path' for "dados.txt":String
Did you mean?  pathmap):
  
app/models/import.rb:6:in `import'
app/controllers/imports_controller.rb:24:in `create'
Started GET "/imports" for ::1 at 2021-05-07 10:24:20 -0300
Processing by ImportsController#index as HTML
  Rendering imports/index.html.erb within layouts/application
  [1m[36mImport Load (0.2ms)[0m  [1m[34mSELECT "imports".* FROM "imports"[0m
  â†³ app/views/imports/index.html.erb:15
  Rendered imports/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 30ms (Views: 27.8ms | ActiveRecord: 0.2ms)


  [1m[36mImport Destroy (11.6ms)[0m  [1m[31mDELETE FROM "imports"[0m
Started GET "/imports" for ::1 at 2021-05-07 10:24:30 -0300
Processing by ImportsController#index as HTML
  Rendering imports/index.html.erb within layouts/application
  [1m[36mImport Load (0.4ms)[0m  [1m[34mSELECT "imports".* FROM "imports"[0m
  â†³ app/views/imports/index.html.erb:15
  Rendered imports/index.html.erb within layouts/application (3.8ms)
Completed 200 OK in 51ms (Views: 46.5ms | ActiveRecord: 0.4ms)


Started GET "/imports/new" for ::1 at 2021-05-07 10:24:32 -0300
Processing by ImportsController#new as HTML
  Rendering imports/new.html.erb within layouts/application
  Rendered imports/_form.html.erb (2.8ms)
  Rendered imports/new.html.erb within layouts/application (4.7ms)
Completed 200 OK in 47ms (Views: 44.7ms | ActiveRecord: 0.0ms)


Started POST "/imports" for ::1 at 2021-05-07 10:24:39 -0300
Processing by ImportsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"RrEBog/sY7LGinBrc9FUup1TBoLS4Zk6iLKhtOiLuBnxLTm73uN4WOY0qBet4KdkuqpAM3LwlDRp0aNNB/xljg==", "import_file"=>#<ActionDispatch::Http::UploadedFile:0x00007f5f140839d0 @tempfile=#<Tempfile:/tmp/RackMultipart20210507-15971-11g1a0w.txt>, @original_filename="dados.txt", @content_type="text/plain", @headers="Content-Disposition: form-data; name=\"import_file\"; filename=\"dados.txt\"\r\nContent-Type: text/plain\r\n">, "commit"=>"Create Import"}
Unpermitted parameters: :utf8, :authenticity_token, :commit
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/import.rb:4
  [1m[36mImport Create (0.3ms)[0m  [1m[32mINSERT INTO "imports" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2021-05-07 13:24:39.796004"], ["updated_at", "2021-05-07 13:24:39.796004"]]
  â†³ app/models/import.rb:4
  [1m[35m (8.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/import.rb:4
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/import.rb:10
  [1m[36mVenda Create (0.3ms)[0m  [1m[32mINSERT INTO "vendas" ("comprador", "descricao", "preco_unitario", "quantidade", "endereco", "fornecedor", "import_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["comprador", "JoÃ£o Silva"], ["descricao", "R$10 off R$20 of food"], ["preco_unitario", 10.0], ["quantidade", 2], ["endereco", "987 Fake St"], ["fornecedor", "Bob's Pizza\n"], ["import_id", 3], ["created_at", "2021-05-07 13:24:39.840238"], ["updated_at", "2021-05-07 13:24:39.840238"]]
  â†³ app/models/import.rb:10
  [1m[35m (3.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/import.rb:10
Completed 500 Internal Server Error in 53ms (ActiveRecord: 13.3ms)


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/models/import.rb:12:in `block in import'
app/models/import.rb:6:in `foreach'
app/models/import.rb:6:in `with_index'
app/models/import.rb:6:in `import'
app/controllers/imports_controller.rb:24:in `create'
Started GET "/imports" for ::1 at 2021-05-07 10:25:03 -0300
Processing by ImportsController#index as HTML
  Rendering imports/index.html.erb within layouts/application
  [1m[36mImport Load (0.4ms)[0m  [1m[34mSELECT "imports".* FROM "imports"[0m
  â†³ app/views/imports/index.html.erb:15
  Rendered imports/index.html.erb within layouts/application (10.0ms)
Completed 200 OK in 45ms (Views: 37.4ms | ActiveRecord: 1.2ms)


  [1m[36mVenda Destroy (13.3ms)[0m  [1m[31mDELETE FROM "vendas"[0m
  [1m[36mImport Destroy (10.4ms)[0m  [1m[31mDELETE FROM "imports"[0m
Started GET "/imports" for ::1 at 2021-05-07 10:25:10 -0300
Processing by ImportsController#index as HTML
  Rendering imports/index.html.erb within layouts/application
  [1m[36mImport Load (0.2ms)[0m  [1m[34mSELECT "imports".* FROM "imports"[0m
  â†³ app/views/imports/index.html.erb:15
  Rendered imports/index.html.erb within layouts/application (2.1ms)
Completed 200 OK in 39ms (Views: 36.3ms | ActiveRecord: 0.2ms)


Started GET "/imports/new" for ::1 at 2021-05-07 10:25:12 -0300
Processing by ImportsController#new as HTML
  Rendering imports/new.html.erb within layouts/application
  Rendered imports/_form.html.erb (5.0ms)
  Rendered imports/new.html.erb within layouts/application (8.2ms)
Completed 200 OK in 50ms (Views: 47.0ms | ActiveRecord: 0.0ms)


Started POST "/imports" for ::1 at 2021-05-07 10:25:21 -0300
Processing by ImportsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"vTPrN8j7wxysY0Wglg2V8zc2OQJbvDAuQMxLcqueUd8Kr9MuGfTY9ozdndxIPGYtEM9/s/utPSChr0mLROmMSA==", "import_file"=>#<ActionDispatch::Http::UploadedFile:0x00007f5f1df2fc78 @tempfile=#<Tempfile:/tmp/RackMultipart20210507-15971-lh3892.txt>, @original_filename="dados.txt", @content_type="text/plain", @headers="Content-Disposition: form-data; name=\"import_file\"; filename=\"dados.txt\"\r\nContent-Type: text/plain\r\n">, "commit"=>"Create Import"}
Unpermitted parameters: :utf8, :authenticity_token, :commit
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/import.rb:4
  [1m[36mImport Create (1.1ms)[0m  [1m[32mINSERT INTO "imports" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2021-05-07 13:25:21.950239"], ["updated_at", "2021-05-07 13:25:21.950239"]]
  â†³ app/models/import.rb:4
  [1m[35m (5.2ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/import.rb:4
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/import.rb:11
  [1m[36mVenda Create (0.4ms)[0m  [1m[32mINSERT INTO "vendas" ("comprador", "descricao", "preco_unitario", "quantidade", "endereco", "fornecedor", "import_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["comprador", "JoÃ£o Silva"], ["descricao", "R$10 off R$20 of food"], ["preco_unitario", 10.0], ["quantidade", 2], ["endereco", "987 Fake St"], ["fornecedor", "Bob's Pizza\n"], ["import_id", 4], ["created_at", "2021-05-07 13:25:22.005786"], ["updated_at", "2021-05-07 13:25:22.005786"]]
  â†³ app/models/import.rb:11
  [1m[35m (9.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/import.rb:11
Completed 500 Internal Server Error in 80ms (ActiveRecord: 18.6ms)


  
TypeError (String can't be coerced into Integer):
  
app/models/import.rb:13:in `+'
app/models/import.rb:13:in `block in import'
app/models/import.rb:7:in `foreach'
app/models/import.rb:7:in `with_index'
app/models/import.rb:7:in `import'
app/controllers/imports_controller.rb:24:in `create'
Started GET "/imports" for ::1 at 2021-05-07 10:26:37 -0300
Processing by ImportsController#index as HTML
  Rendering imports/index.html.erb within layouts/application
  [1m[36mImport Load (0.1ms)[0m  [1m[34mSELECT "imports".* FROM "imports"[0m
  â†³ app/views/imports/index.html.erb:15
  Rendered imports/index.html.erb within layouts/application (4.7ms)
Completed 200 OK in 22ms (Views: 19.4ms | ActiveRecord: 0.5ms)


  [1m[36mImport Destroy (1.3ms)[0m  [1m[31mDELETE FROM "imports"[0m
Started GET "/imports" for ::1 at 2021-05-07 10:26:43 -0300
Processing by ImportsController#index as HTML
  Rendering imports/index.html.erb within layouts/application
  [1m[36mImport Load (0.1ms)[0m  [1m[34mSELECT "imports".* FROM "imports"[0m
  â†³ app/views/imports/index.html.erb:15
  Rendered imports/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 32ms (Views: 30.4ms | ActiveRecord: 0.1ms)


Started GET "/imports" for ::1 at 2021-05-07 10:26:44 -0300
Processing by ImportsController#index as HTML
  Rendering imports/index.html.erb within layouts/application
  [1m[36mImport Load (0.4ms)[0m  [1m[34mSELECT "imports".* FROM "imports"[0m
  â†³ app/views/imports/index.html.erb:15
  Rendered imports/index.html.erb within layouts/application (6.4ms)
Completed 200 OK in 61ms (Views: 57.9ms | ActiveRecord: 0.4ms)


Started GET "/imports" for ::1 at 2021-05-07 10:26:44 -0300
Processing by ImportsController#index as HTML
  Rendering imports/index.html.erb within layouts/application
  [1m[36mImport Load (0.3ms)[0m  [1m[34mSELECT "imports".* FROM "imports"[0m
  â†³ app/views/imports/index.html.erb:15
  Rendered imports/index.html.erb within layouts/application (4.8ms)
Completed 200 OK in 60ms (Views: 55.4ms | ActiveRecord: 0.3ms)


Started GET "/imports" for ::1 at 2021-05-07 10:26:44 -0300
Processing by ImportsController#index as HTML
  Rendering imports/index.html.erb within layouts/application
  [1m[36mImport Load (0.3ms)[0m  [1m[34mSELECT "imports".* FROM "imports"[0m
  â†³ app/views/imports/index.html.erb:15
  Rendered imports/index.html.erb within layouts/application (6.5ms)
Completed 200 OK in 52ms (Views: 50.6ms | ActiveRecord: 0.3ms)


Started GET "/imports" for ::1 at 2021-05-07 10:26:44 -0300
Processing by ImportsController#index as HTML
  Rendering imports/index.html.erb within layouts/application
  [1m[36mImport Load (0.3ms)[0m  [1m[34mSELECT "imports".* FROM "imports"[0m
  â†³ app/views/imports/index.html.erb:15
  Rendered imports/index.html.erb within layouts/application (5.3ms)
Completed 200 OK in 94ms (Views: 89.1ms | ActiveRecord: 0.3ms)


Started GET "/imports" for ::1 at 2021-05-07 10:26:44 -0300
Processing by ImportsController#index as HTML
  Rendering imports/index.html.erb within layouts/application
  [1m[36mImport Load (0.1ms)[0m  [1m[34mSELECT "imports".* FROM "imports"[0m
  â†³ app/views/imports/index.html.erb:15
  Rendered imports/index.html.erb within layouts/application (5.7ms)
Completed 200 OK in 66ms (Views: 63.9ms | ActiveRecord: 0.1ms)


  [1m[36mImport Destroy (2.7ms)[0m  [1m[31mDELETE FROM "imports"[0m
  [1m[36mImport Destroy (2.5ms)[0m  [1m[31mDELETE FROM "imports"[0m
  [1m[36mImport Destroy (2.9ms)[0m  [1m[31mDELETE FROM "imports"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "imports"[0m
  [1m[36mImport Load (0.6ms)[0m  [1m[34mSELECT  "imports".* FROM "imports" LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mImport Destroy (2.7ms)[0m  [1m[31mDELETE FROM "imports"[0m
  [1m[36mImport Load (0.7ms)[0m  [1m[34mSELECT  "imports".* FROM "imports" ORDER BY "imports"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mImport Load (0.3ms)[0m  [1m[34mSELECT  "imports".* FROM "imports" ORDER BY "imports"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mImport Destroy (1.9ms)[0m  [1m[31mDELETE FROM "imports" WHERE "imports"."id" = ?[0m  [["id", 4]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "vendas"[0m
  [1m[36mVenda Load (0.1ms)[0m  [1m[34mSELECT  "vendas".* FROM "vendas" ORDER BY "vendas"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mVenda Load (0.1ms)[0m  [1m[34mSELECT  "vendas".* FROM "vendas" ORDER BY "vendas"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mVenda Destroy (8.3ms)[0m  [1m[31mDELETE FROM "vendas" WHERE "vendas"."id" = ?[0m  [["id", 2]]
  [1m[36mImport Destroy (13.9ms)[0m  [1m[31mDELETE FROM "imports"[0m
Started GET "/imports" for ::1 at 2021-05-07 10:28:36 -0300
Processing by ImportsController#index as HTML
  Rendering imports/index.html.erb within layouts/application
  [1m[36mImport Load (0.2ms)[0m  [1m[34mSELECT "imports".* FROM "imports"[0m
  â†³ app/views/imports/index.html.erb:15
  Rendered imports/index.html.erb within layouts/application (3.5ms)
Completed 200 OK in 36ms (Views: 30.9ms | ActiveRecord: 0.6ms)


Started GET "/imports" for ::1 at 2021-05-07 10:28:36 -0300
Processing by ImportsController#index as HTML
  Rendering imports/index.html.erb within layouts/application
  [1m[36mImport Load (0.4ms)[0m  [1m[34mSELECT "imports".* FROM "imports"[0m
  â†³ app/views/imports/index.html.erb:15
  Rendered imports/index.html.erb within layouts/application (4.8ms)
Completed 200 OK in 48ms (Views: 42.9ms | ActiveRecord: 0.4ms)


Started GET "/imports" for ::1 at 2021-05-07 10:28:37 -0300
Processing by ImportsController#index as HTML
  Rendering imports/index.html.erb within layouts/application
  [1m[36mImport Load (0.3ms)[0m  [1m[34mSELECT "imports".* FROM "imports"[0m
  â†³ app/views/imports/index.html.erb:15
  Rendered imports/index.html.erb within layouts/application (5.0ms)
Completed 200 OK in 48ms (Views: 45.6ms | ActiveRecord: 0.3ms)


Started GET "/imports/new" for ::1 at 2021-05-07 10:28:39 -0300
Processing by ImportsController#new as HTML
  Rendering imports/new.html.erb within layouts/application
  Rendered imports/_form.html.erb (2.2ms)
  Rendered imports/new.html.erb within layouts/application (4.7ms)
Completed 200 OK in 46ms (Views: 30.9ms | ActiveRecord: 1.3ms)


Started POST "/imports" for ::1 at 2021-05-07 10:28:44 -0300
Processing by ImportsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"mWPqjmKMwHQ9+hEySfFuKBMnl4seSGrNNWRm9yw5dhUu/9KXs4Pbnh1EyU6XwJ32NN7ROr5ZZ8PUB2QOw06rgg==", "import_file"=>#<ActionDispatch::Http::UploadedFile:0x00007f5f1d655a08 @tempfile=#<Tempfile:/tmp/RackMultipart20210507-15971-1oq1cbc.txt>, @original_filename="dados.txt", @content_type="text/plain", @headers="Content-Disposition: form-data; name=\"import_file\"; filename=\"dados.txt\"\r\nContent-Type: text/plain\r\n">, "commit"=>"Create Import"}
Unpermitted parameters: :utf8, :authenticity_token, :commit
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/import.rb:4
  [1m[36mImport Create (1.5ms)[0m  [1m[32mINSERT INTO "imports" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2021-05-07 13:28:44.571547"], ["updated_at", "2021-05-07 13:28:44.571547"]]
  â†³ app/models/import.rb:4
  [1m[35m (4.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/import.rb:4
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/import.rb:11
  [1m[36mVenda Create (0.3ms)[0m  [1m[32mINSERT INTO "vendas" ("comprador", "descricao", "preco_unitario", "quantidade", "endereco", "fornecedor", "import_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["comprador", "JoÃ£o Silva"], ["descricao", "R$10 off R$20 of food"], ["preco_unitario", 10.0], ["quantidade", 2], ["endereco", "987 Fake St"], ["fornecedor", "Bob's Pizza\n"], ["import_id", 5], ["created_at", "2021-05-07 13:28:44.594410"], ["updated_at", "2021-05-07 13:28:44.594410"]]
  â†³ app/models/import.rb:11
  [1m[35m (9.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/import.rb:11
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/import.rb:11
  [1m[36mVenda Create (0.4ms)[0m  [1m[32mINSERT INTO "vendas" ("comprador", "descricao", "preco_unitario", "quantidade", "endereco", "fornecedor", "import_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["comprador", "Amy Pond"], ["descricao", "R$30 of awesome for R$10"], ["preco_unitario", 10.0], ["quantidade", 5], ["endereco", "456 Unreal Rd"], ["fornecedor", "Tom's Awesome Shop\n"], ["import_id", 5], ["created_at", "2021-05-07 13:28:44.606930"], ["updated_at", "2021-05-07 13:28:44.606930"]]
  â†³ app/models/import.rb:11
  [1m[35m (4.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/import.rb:11
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/import.rb:11
  [1m[36mVenda Create (0.3ms)[0m  [1m[32mINSERT INTO "vendas" ("comprador", "descricao", "preco_unitario", "quantidade", "endereco", "fornecedor", "import_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["comprador", "Marty McFly"], ["descricao", "R$20 Sneakers for R$5"], ["preco_unitario", 5.0], ["quantidade", 1], ["endereco", "123 Fake St"], ["fornecedor", "Sneaker Store Emporium\n"], ["import_id", 5], ["created_at", "2021-05-07 13:28:44.615738"], ["updated_at", "2021-05-07 13:28:44.615738"]]
  â†³ app/models/import.rb:11
  [1m[35m (2.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/import.rb:11
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/import.rb:11
  [1m[36mVenda Create (0.4ms)[0m  [1m[32mINSERT INTO "vendas" ("comprador", "descricao", "preco_unitario", "quantidade", "endereco", "fornecedor", "import_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["comprador", "Snake Plissken"], ["descricao", "R$20 Sneakers for R$5"], ["preco_unitario", 5.0], ["quantidade", 4], ["endereco", "123 Fake St"], ["fornecedor", "Sneaker Store Emporium\n"], ["import_id", 5], ["created_at", "2021-05-07 13:28:44.625001"], ["updated_at", "2021-05-07 13:28:44.625001"]]
  â†³ app/models/import.rb:11
  [1m[35m (4.4ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/import.rb:11
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/import.rb:16
  [1m[36mImport Update (0.3ms)[0m  [1m[33mUPDATE "imports" SET "total_imports" = ?, "total_price" = ?, "updated_at" = ? WHERE "imports"."id" = ?[0m  [["total_imports", 0], ["total_price", 30.0], ["updated_at", "2021-05-07 13:28:44.636253"], ["id", 5]]
  â†³ app/models/import.rb:16
  [1m[35m (2.6ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/import.rb:16
Redirected to http://localhost:3000/imports/5
Completed 302 Found in 77ms (ActiveRecord: 32.5ms)


Started GET "/imports/5" for ::1 at 2021-05-07 10:28:44 -0300
Processing by ImportsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mImport Load (0.1ms)[0m  [1m[34mSELECT  "imports".* FROM "imports" WHERE "imports"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/imports_controller.rb:57
  Rendering imports/show.html.erb within layouts/application
  Rendered imports/show.html.erb within layouts/application (2.0ms)
Completed 200 OK in 50ms (Views: 47.8ms | ActiveRecord: 0.1ms)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "vendas"[0m
  [1m[36mImport Destroy (0.5ms)[0m  [1m[31mDELETE FROM "imports"[0m
  [1m[36mVenda Destroy (11.4ms)[0m  [1m[31mDELETE FROM "vendas"[0m
  [1m[36mImport Destroy (12.4ms)[0m  [1m[31mDELETE FROM "imports"[0m
Started GET "/imports" for ::1 at 2021-05-07 10:29:44 -0300
Processing by ImportsController#index as HTML
  Rendering imports/index.html.erb within layouts/application
  [1m[36mImport Load (0.2ms)[0m  [1m[34mSELECT "imports".* FROM "imports"[0m
  â†³ app/views/imports/index.html.erb:15
  Rendered imports/index.html.erb within layouts/application (5.8ms)
Completed 200 OK in 56ms (Views: 47.7ms | ActiveRecord: 1.0ms)


Started GET "/imports/new" for ::1 at 2021-05-07 10:31:52 -0300
Processing by ImportsController#new as HTML
  Rendering imports/new.html.erb within layouts/application
  Rendered imports/_form.html.erb (5.0ms)
  Rendered imports/new.html.erb within layouts/application (8.0ms)
Completed 200 OK in 51ms (Views: 37.7ms | ActiveRecord: 1.2ms)


Started POST "/imports" for ::1 at 2021-05-07 10:31:57 -0300
Processing by ImportsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Ci3cdWBtKKs7YblrreL5MYbradRph3/1wqitsStIZbS9seRssWIzQRvfYRdz0wrvoRIvZcmWcvsjy69IxD+4Iw==", "import_file"=>#<ActionDispatch::Http::UploadedFile:0x00007f5f1d788510 @tempfile=#<Tempfile:/tmp/RackMultipart20210507-15971-1q40jee.txt>, @original_filename="dados.txt", @content_type="text/plain", @headers="Content-Disposition: form-data; name=\"import_file\"; filename=\"dados.txt\"\r\nContent-Type: text/plain\r\n">, "commit"=>"Create Import"}
Unpermitted parameters: :utf8, :authenticity_token, :commit
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/import.rb:4
  [1m[36mImport Create (0.6ms)[0m  [1m[32mINSERT INTO "imports" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2021-05-07 13:31:57.827530"], ["updated_at", "2021-05-07 13:31:57.827530"]]
  â†³ app/models/import.rb:4
  [1m[35m (5.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/import.rb:4
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/import.rb:11
  [1m[36mVenda Create (0.4ms)[0m  [1m[32mINSERT INTO "vendas" ("comprador", "descricao", "preco_unitario", "quantidade", "endereco", "fornecedor", "import_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["comprador", "JoÃ£o Silva"], ["descricao", "R$10 off R$20 of food"], ["preco_unitario", 10.0], ["quantidade", 2], ["endereco", "987 Fake St"], ["fornecedor", "Bob's Pizza\n"], ["import_id", 6], ["created_at", "2021-05-07 13:31:57.887301"], ["updated_at", "2021-05-07 13:31:57.887301"]]
  â†³ app/models/import.rb:11
  [1m[35m (4.9ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/import.rb:11
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/import.rb:11
  [1m[36mVenda Create (0.3ms)[0m  [1m[32mINSERT INTO "vendas" ("comprador", "descricao", "preco_unitario", "quantidade", "endereco", "fornecedor", "import_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["comprador", "Amy Pond"], ["descricao", "R$30 of awesome for R$10"], ["preco_unitario", 10.0], ["quantidade", 5], ["endereco", "456 Unreal Rd"], ["fornecedor", "Tom's Awesome Shop\n"], ["import_id", 6], ["created_at", "2021-05-07 13:31:57.896691"], ["updated_at", "2021-05-07 13:31:57.896691"]]
  â†³ app/models/import.rb:11
  [1m[35m (6.5ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/import.rb:11
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/import.rb:11
  [1m[36mVenda Create (0.3ms)[0m  [1m[32mINSERT INTO "vendas" ("comprador", "descricao", "preco_unitario", "quantidade", "endereco", "fornecedor", "import_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["comprador", "Marty McFly"], ["descricao", "R$20 Sneakers for R$5"], ["preco_unitario", 5.0], ["quantidade", 1], ["endereco", "123 Fake St"], ["fornecedor", "Sneaker Store Emporium\n"], ["import_id", 6], ["created_at", "2021-05-07 13:31:57.910259"], ["updated_at", "2021-05-07 13:31:57.910259"]]
  â†³ app/models/import.rb:11
  [1m[35m (3.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/import.rb:11
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/import.rb:11
  [1m[36mVenda Create (0.4ms)[0m  [1m[32mINSERT INTO "vendas" ("comprador", "descricao", "preco_unitario", "quantidade", "endereco", "fornecedor", "import_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["comprador", "Snake Plissken"], ["descricao", "R$20 Sneakers for R$5"], ["preco_unitario", 5.0], ["quantidade", 4], ["endereco", "123 Fake St"], ["fornecedor", "Sneaker Store Emporium\n"], ["import_id", 6], ["created_at", "2021-05-07 13:31:57.925801"], ["updated_at", "2021-05-07 13:31:57.925801"]]
  â†³ app/models/import.rb:11
  [1m[35m (11.1ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/import.rb:11
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  â†³ app/models/import.rb:16
  [1m[36mImport Update (0.3ms)[0m  [1m[33mUPDATE "imports" SET "total_imports" = ?, "total_price" = ?, "updated_at" = ? WHERE "imports"."id" = ?[0m  [["total_imports", 4], ["total_price", 30.0], ["updated_at", "2021-05-07 13:31:57.943433"], ["id", 6]]
  â†³ app/models/import.rb:16
  [1m[35m (3.8ms)[0m  [1m[36mcommit transaction[0m
  â†³ app/models/import.rb:16
Redirected to http://localhost:3000/imports/6
Completed 302 Found in 138ms (ActiveRecord: 40.3ms)


Started GET "/imports/6" for ::1 at 2021-05-07 10:31:57 -0300
Processing by ImportsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mImport Load (0.4ms)[0m  [1m[34mSELECT  "imports".* FROM "imports" WHERE "imports"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/imports_controller.rb:57
  Rendering imports/show.html.erb within layouts/application
  Rendered imports/show.html.erb within layouts/application (3.0ms)
Completed 200 OK in 27ms (Views: 22.1ms | ActiveRecord: 0.4ms)


Started GET "/imports/6" for ::1 at 2021-05-07 10:39:42 -0300
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /var/lib/gems/2.5.0/gems/activerecord-5.2.6/lib/active_record/log_subscriber.rb:98
Processing by ImportsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mImport Load (0.1ms)[0m  [1m[34mSELECT  "imports".* FROM "imports" WHERE "imports"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/imports_controller.rb:57
  Rendering imports/show.html.erb within layouts/application
  Rendered imports/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 232ms (Views: 216.7ms | ActiveRecord: 0.6ms)


Started GET "/imports" for ::1 at 2021-05-07 10:39:44 -0300
Processing by ImportsController#index as HTML
  Rendering imports/index.html.erb within layouts/application
  [1m[36mImport Load (0.2ms)[0m  [1m[34mSELECT "imports".* FROM "imports"[0m
  â†³ app/views/imports/index.html.erb:15
  Rendered imports/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 14ms (Views: 13.0ms | ActiveRecord: 0.2ms)


